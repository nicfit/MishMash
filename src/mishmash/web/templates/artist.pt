<metal:block use-macro="main_template">
  <div metal:fill-slot="content">

<h3>${artist.name}</h3>

<ul class="nav nav-tabs">
  <li tal:repeat="t tabs" class="${'active' if t[2] else ''}">
    <a href="${request.path_url}?album_tab=${t[0]}">${t[1]}</a>
  </li>
</ul>

<table class="table table-condensed table-striped">
  <tr>
    <th tal:condition="active_albums"></th>
    <th tal:condition="active_albums or active_singles">Title</th>
    <th tal:condition="active_albums">Date</th>
  </tr>
  <tr tal:condition="active_albums" tal:repeat="album active_albums">
    <td tal:define="cid album.cover.id if album.cover else 'default';
                    cover_url request.route_url('images.covers', id=cid)">
      <a href="${cover_url}">
        <img class='shadow' width="64" height="64" src="${cover_url}"/>
      </a>
    </td>
    <td tal:content="album.title">Album Title</td>
    <td tal:content="album.getBestDate()">2013.10.19</td>
  </tr>
  <tr tal:condition="active_singles" tal:repeat="track active_singles">
    <td tal:content="track.title">Track Title</td>
  </tr>
</table>

  </div>
</metal:block>
